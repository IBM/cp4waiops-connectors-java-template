/*
 * This file was generated by the Gradle 'init' task.
 *
 * This project uses @Incubating APIs which are subject to change.
 */

import java.io.FileOutputStream
import java.io.IOException
import java.io.OutputStream
import java.util.Properties

apply plugin: 'groovy'
apply plugin: 'maven-publish'
apply plugin: 'signing'
apply plugin: 'liberty'
apply plugin: 'war'

repositories {
    mavenLocal()
    mavenCentral()
    maven {
        url 'https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/wasdev/maven/repository/'
    }
    maven {
        url 'https://oss.sonatype.org/content/repositories/snapshots/'
    }
}

buildscript {
    repositories {
        mavenCentral()
        maven {
            name = 'Sonatype Nexus Snapshots'
            url = 'https://oss.sonatype.org/content/repositories/snapshots/'
        }
    }
    dependencies {
        classpath 'io.openliberty.tools:liberty-gradle-plugin:3.8.2'
    }
}

configurations {
    provided
}

tasks.war {
	archiveFileName.set("java-grpc-connector-template.war")
}

compileJava {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

compileTestJava {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

compileGroovy {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

compileTestGroovy {
    sourceCompatibility = JavaVersion.VERSION_11
    targetCompatibility = JavaVersion.VERSION_11
}

def libertyAntVersion = "1.9.14"
def libertyCommonVersion = "1.8.32"

dependencies {
    libertyRuntime group: 'io.openliberty', name: 'openliberty-kernel', version: '24.0.0.6'
    implementation group: 'io.openliberty.features', name: 'com.ibm.websphere.appserver.eeCompatible-7.0', version: '24.0.0.6'
    libertyFeature 'com.ibm.websphere.appserver.features:restfulWSClient-3.0:24.0.0.6'
    libertyFeature 'com.ibm.websphere.appserver.features:servlet-5.0:24.0.0.6'
    libertyFeature 'com.ibm.websphere.appserver.features:mpMetrics-4.0:24.0.0.6'
    libertyFeature 'com.ibm.websphere.appserver.features:mpConfig-3.0:24.0.0.6'
    libertyFeature 'com.ibm.websphere.appserver.features:mpHealth-4.0:24.0.0.6'

    implementation gradleApi()
    implementation localGroovy()
    implementation ("io.openliberty.tools:liberty-ant-tasks:$libertyAntVersion")
    implementation ("io.openliberty.tools:ci.common:$libertyCommonVersion")
    implementation group: 'commons-io', name: 'commons-io', version: '2.8.0'
    provided group: 'com.ibm.websphere.appserver.spi', name: 'com.ibm.websphere.appserver.spi.kernel.embeddable', version: '1.0.0'
    testImplementation(libs.org.junit.jupiter.junit.jupiter)
    testImplementation(libs.org.mockito.mockito.core)

    implementation ("jakarta.platform:jakarta.jakartaee-api:8.0.0")
    implementation ("org.eclipse.microprofile:microprofile:4.1")
    implementation ("io.cloudevents:cloudevents-core:2.2.0")
    implementation ("org.json:json:20231013")
    implementation ("com.ibm.cp4waiops.connectors:connectors-sdk:2.0.0")
    implementation group: 'jakarta.enterprise', name: 'jakarta.enterprise.cdi-api', version: '4.1.0'
    compileOnly 'jakarta.servlet:jakarta.servlet-api:6.1.0-M2'

    implementation ("io.openliberty.features:features:24.0.0.6")
    implementation ("io.openliberty:openliberty-kernel:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.eeCompatible-9.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.artifact-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.annotation-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeedd-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.anno-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.containerServices-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.dynamicBundle-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.appLifecycle-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.classloading-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.appmanager-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeePlatform-6.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeePlatform-7.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.expressionLanguage-4.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.interceptor-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeePlatform-8.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.cdi-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.activation-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.channelfw-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakartaeePlatform-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.xmlBinding-3.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.injection-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.servlet.api-5.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.persistence.base-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jta-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.connectors-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.mpCompatible-5.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jsonpImpl-2.0.1:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeeddSchema-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.requestProbes-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.servlet-servletSpi2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.httptransport-1.0:24.0.0.6")
    implementation ("io.openliberty.features:servlet-5.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.contextService-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.xmlWS-3.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.transaction-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.pages-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.globalhandler1.0.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.enterpriseBeans-4.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.persistence-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.concurrency-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.org.eclipse.microprofile.contextpropagation-1.3:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jsonpInternal-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.internal.slf4j-1.7:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.concurrencyPolicy-1.0:24.0.0.6")
    implementation ("io.openliberty.features:cdi-3.0:24.0.0.6")
    implementation ("io.openliberty.features:concurrent-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.servlet.internal-5.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.restfulWS-3.0:24.0.0.6")
    implementation ("io.openliberty.features:jndi-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.globalhandler-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.mail-2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jakarta.validation-3.0:24.0.0.6")
    implementation ("io.openliberty.features:jsonp-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.org.reactivestreams.reactive-streams-1.0:24.0.0.6")
    implementation ("io.openliberty.features:restfulWSClient-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.org.eclipse.microprofile.config.3.0.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.org.eclipse.microprofile.config-3.0:24.0.0.6")
    implementation ("io.openliberty.features:mpConfig-3.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.webBundle.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.microprofile.cdi.api-3.0:24.0.0.6")
    implementation ("io.openliberty.features:json-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.webBundle.internal-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.org.eclipse.microprofile.health-4.0:24.0.0.6")
    implementation ("io.openliberty.features:mpHealth-4.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jcache.internal1.1.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.jcache.internal-1.1:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.ltpa-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.builtinAuthentication-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.securityInfrastructure-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.securityAPI.jakarta-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.certificateCreator-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.security.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.builtinAuthorization-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.distributedMapInternal-2.0:24.0.0.6")
    implementation ("io.openliberty.features:ssl-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.basicRegistry-1.0:24.0.0.6")
    implementation ("io.openliberty.features:distributedMap-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.security-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.authFilter1.0.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.webBundleSecurity1.0.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.adminSecurity-2.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.authFilter-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.webBundleSecurity.internal-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.wsspi.appserver.webBundle-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.restHandler1.0.internal.ee-9.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.restHandler.internal-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.wsspi.appserver.webBundleSecurity-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.restHandler-1.0:24.0.0.6")
    implementation ("io.openliberty.features:monitor-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.org.eclipse.microprofile.metrics-4.0:24.0.0.6")
    implementation ("io.openliberty.features:mpMetrics-4.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.servlet5.0-monitor1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.distributedMapPMI-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.cdi3.0-transaction2.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.cdi3.0-jndi1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.securityContext-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.jakarta-transactionContext-1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.classloaderContext-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.cdi3.0-servlet5.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.mpMetrics-4.0-monitor-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.restfulWSClient3.0-ssl1.0:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.javaeePlatform7.0-jndi1.0:24.0.0.6")
    implementation ("io.openliberty.features:transportSecurity-1.0:24.0.0.6")
    implementation ("io.openliberty.features:io.openliberty.transportSecurity1.0.jakarta:24.0.0.6")
    implementation ("io.openliberty.features:com.ibm.websphere.appserver.sessionMonitor-1.0:24.0.0.6")
}

group = "com.ibm.aiops.connectors.event-template"
version = "1.3-SNAPSHOT"
description = "java-grpc-connector-template"
java.sourceCompatibility = JavaVersion.VERSION_11

